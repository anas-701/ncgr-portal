<section class="create_program mt-4 mb-4">
  <div class="container-xxl">
    <div class="d-flex gap-4">
      <!-- <div class="">
        <app-side-bar></app-side-bar>
      </div> -->
      <div class="flex-grow-1">
        <!-- Header with breadcrumb -->
        <!-- <app-program-header></app-program-header> -->
        <div class="sm_inner_header">
          <div class="breadcrumb_inner">
            <ul class="modern-breadcrumb">
              <li>
                <a routerLink="/" class="breadcrumb-link">
                  <span class="breadcrumb-text active">الرئيسية</span>
                </a>
                <span class="breadcrumb-arrow">›</span>
              </li>
              <li>
                <span>البرامج العامة</span>
              </li>
            </ul>
          </div>
          <h1>البرامج العامة</h1>
        </div>

        <!-- Search and filter area -->
        <app-trainee-filter *ngIf="role=='trainee'"
          [searchForm]="searchForm"
          [category]="category"
          [paths]="paths"
          [tags]="tags"
          [showRate]="showRate"
          (resetFilters)="resetFilters()"
          (addProgram)="onAddProgram()"
        ></app-trainee-filter>
        <app-admin-filter *ngIf="role=='admin'||role=='approver'||role=='creator'"
          [searchForm]="searchForm"
          [category]="category"
          [paths]="paths"
          [tags]="tags"
          [showRate]="showRate"
          (resetFilters)="resetFilters()"
          (addProgram)="onAddProgram()"
        ></app-admin-filter>

        <!-- Loading State -->
        <div *ngIf="isLoading" class="text-center mt-4">
          <div class="spinner-border" role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        </div>

        <!-- Programs List -->
        <div class="row">
          <div class="col-md-4 mt-4" *ngFor="let program of programs">
            <app-admin-dashboard 
            *ngIf="role == 'admin'"
            [program]="program"
              [statusOptions]="statusOptions"
              (viewDetails)="onProgramView($event)"
              (editProgram)="onProgramEdit($event)"
              (deleteProgram)="onProgramDelete($event)"
              (viewTrainees)="onTraineesView($event)"
              (statusChange)="onStatusChange($event)">
            
            </app-admin-dashboard>
            <app-approver-dashboard
              *ngIf="role == 'approver'"
            ></app-approver-dashboard>
            <app-creator-dashboard
              *ngIf="role == 'creator'"
            ></app-creator-dashboard>
            <app-trainee-dashboard
              *ngIf="role == 'trainee'"
            ></app-trainee-dashboard>
          </div>
        </div>
        <!-- Empty State -->
        <!-- <div
          
          class="alert alert-info mt-4 text-center"
        >
          <p>لا توجد برامج تدريبية متاحة</p>
          <button class="btn btn-primary" (click)="createNewProgram()">
            إضافة برنامج تدريبي جديد
          </button>
        </div> -->

        <!-- Pagination -->
        <app-track-pagination
          [currentPage]="currentPage"
          [totalPages]="totalPages"
        ></app-track-pagination>
      </div>
    </div>
  </div>
</section>
